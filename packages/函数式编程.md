# 函数式编程和闭包

函数式编程的思想比具体写法更加重要。这是为了让我们更加方便、更加高效的解决问题的。   

**函数：在一般语言中，函数只是一段可执行的代码，并不是对象，不能实例化和赋值，但是在python中，一切皆对象。所以可以把函数当做参数，传递给另外的函数，或者把一个函数当做另一个函数的返回结果。**   

``` 
def curve_pre():
    //函数内部还可以再定义函数
    a = 25
    def cureve(x):
        return a*x*x
    return curve

//如果在函数外部调用curve，会报错，名字未定义（因为定义在内部）
//curve()
//函数可以作为一个结果被返回回来，可以把函数赋值给变量
f=curve_pre()

//调用f,也就是curve()
print(f(2))

``` 

**闭包:由函数以及它在定义时的环境变量形成的整体。闭包=函数+环境变量 注意：环境变量不能是全局变量**

闭包的环境变量保存在f.__closure__中

*闭包的意义：同时返回函数和执行现场的环境变量。保证了函数运行的正确性。*

注意，在上述代码中，闭包内部（cureeve内部）只能引用外部变量a，而不能改变。否则python将不认为这是一个闭包。

*闭包实现的一个重要功能是，允许用户在函数外，使用和更改函数内的变量，闭包中的函数变量相当于是常驻内存的。因此也要注意防止内存泄漏*


## 闭包并不是函数式编程的全部，函数式编程是一种思维

### 匿名函数（又称为Lambda表达式）
```
//普通函数定义
def f(x,y):
    return x+y

//匿名函数定义：
lambda parameter_list:expression
//f函数的匿名实现：表达式计算结果直接返回，不需要return语句。
lambda x,y:x+y
//注意，expression部分只能放一些简单的表达式。

//如何调用匿名函数？  可以把匿名函数赋值给一个变量：
f1 = lambda x,y:x+y
print(f1(1,2))

```
